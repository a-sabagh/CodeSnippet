var kamaDatepicker=function(t,e){if("string"==typeof t&&0!==t.length){var a,n,o,d,r,l,s,c,p,v=e||{},g=!1,u=!1,b=["٠","١","٢","٣","۴","۵","۶","٧","٨","٩","١٠","١١","١٢","١٣","١۴","١۵","١۶","١٧","١٨","١٩","٢٠","٢١","٢٢","٢٣","٢۴","٢۵","٢۶","٢٧","٢٨","٢٩","٣٠","٣١","٣٢"];v.placeholder=void 0!==v.placeholder?v.placeholder:"",v.twodigit=void 0===v.twodigit||v.twodigit,v.closeAfterSelect=void 0===v.closeAfterSelect||v.closeAfterSelect,v.nextButtonIcon=void 0!==v.nextButtonIcon&&v.nextButtonIcon,v.previousButtonIcon=void 0!==v.previousButtonIcon&&v.previousButtonIcon,v.buttonsColor=void 0!==v.buttonsColor&&v.buttonsColor,v.forceFarsiDigits=void 0!==v.forceFarsiDigits&&v.forceFarsiDigits,v.markToday=void 0!==v.markToday&&v.markToday,v.markHolidays=void 0!==v.markHolidays&&v.markHolidays,v.highlightSelectedDay=void 0!==v.highlightSelectedDay&&v.highlightSelectedDay,v.sync=void 0!==v.sync&&v.sync,v.gotoToday=void 0!==v.gotoToday&&v.gotoToday;var f=$("."+t);void 0===f.attr("placeholder")&&f.attr("placeholder",v.placeholder),f.wrap("<div id='bd-root-"+t+"' style='position: relative;'></div>"),f.after("<div id='bd-main-"+t+"' class='bd-main bd-hide' style='position: absolute; direction: rtl;'></div>");var y=$("#bd-main-"+t);y.append("<div class='bd-calendar'></div>");var h=y.find(".bd-calendar");h.append("<div class='bd-title'></div>");var I=h.find(".bd-title");h.append("<table class='bd-table' dir='rtl' cellspacing='0' cellpadding='0'></table>"),I.append("<button id='bd-next-"+t+"' class='bd-next' type='button' title='ماه بعدی' data-toggle='tooltip'><span>بعدی</span></button>");var m=$("#bd-next-"+t);v.nextButtonIcon&&(m.find("span").css("display","none"),-1!==v.nextButtonIcon.indexOf(".")?m.css("background-image","url("+v.nextButtonIcon+")"):m.addClass(v.nextButtonIcon)),I.append("<div class='bd-dropdown'></div><div class='bd-dropdown'></div>"),I.find(".bd-dropdown:nth-child(2)").append("<select id='bd-month-"+t+"' class='bd-month'></select>");var x=$("#bd-month-"+t);$.each({1:"فروردین",2:"اردیبهشت",3:"خرداد",4:"تیر",5:"مرداد",6:"شهریور",7:"مهر",8:"آبان",9:"آذر",10:"دی",11:"بهمن",12:"اسفند"},function(t,e){x.append($("<option></option>").attr("value",t).text(e))}),I.find(".bd-dropdown:nth-child(3)").append("<select id='bd-year-"+t+"' class='bd-year'></select>");var k=$("#bd-year-"+t);I.append("<button id='bd-prev-"+t+"' class='bd-prev' type='button' title='ماه قبلی' data-toggle='tooltip'><span>قبلی</span></button>");var C=$("#bd-prev-"+t);v.nextButtonIcon&&(C.find("span").css("display","none"),-1!==v.previousButtonIcon.indexOf(".")?C.css("background-image","url("+v.previousButtonIcon+")"):C.addClass(v.previousButtonIcon)),v.buttonsColor&&(m.css("color",v.buttonsColor),m.find("span").css("color",v.buttonsColor),C.css("color",v.buttonsColor),C.find("span").css("color",v.buttonsColor)),h.find(".bd-table").append("<thead><tr></tr></thead>"),$.each({"شنبه":"ش","یکشنبه":"ی","دوشنبه":"د","سه شنبه":"س","چهارشنبه":"چ","پنج شنبه":"پ","جمعه":"ج"},function(t,e){h.find(".bd-table thead tr").append($("<th></th>").text(e))}),h.find(".bd-table").append("<tbody id='bd-table-days-"+t+"' class='bd-table-days'></tbody>");var D=$("#bd-table-days-"+t);if(v.gotoToday){h.append("<div class='bd-goto-today'>برو به امروز</div>");var w=h.find(".bd-goto-today")}f.on("focus",function(){y.removeClass("bd-hide"),v.sync&&!1===u&&(T(),u=!0)}).on("blur",function(){0==g?(y.addClass("bd-hide"),u=!1):(g=!1,f.focus(),event.preventDefault())}),y.on("mousedown",function(t){g=!0}),x.on("change",function(){n=parseInt(this.value),s=O(a,n),l=H(a,n),E(s,l)}),k.on("change",function(){a=parseInt(this.value),s=O(a,n),l=H(a,n),E(s,l)});var B=[31,28,31,30,31,30,31,31,30,31,30,31],S=[31,31,31,31,31,31,30,30,30,30,30,29],T=function(){var t=F(f.val());""!==t&&(t=t.split("/"),x.val(parseInt(t[1])),x.trigger("change"),k.val(parseInt(t[0])),k.trigger("change"),v.highlightSelectedDay&&(y.find(".bd-selected-day").removeClass("bd-selected-day"),y.find(".day-"+parseInt(t[2])).addClass("bd-selected-day")))},F=function(t){return""===t?"":((t=t.split("/"))[1].length<2&&t[1]<10&&(t[1]="0"+t[1]),t[2].length<2&&t[2]<10&&(t[2]="0"+t[2]),t=t.join("/"))},O=function(t,e){return e<7?31:e<12?30:((a=t)<1343&&a>1243?1!=(n=a%33)&&5!=n&&9!=n&&13!=n&&17!=n&&22!=n&&26!=n&&30!=n:a<1473&&a>1342&&1!=(n=a%17)&&5!=n&&9!=n&&13!=n&&18!=n&&22!=n&&26!=n&&30!=n)?29:30;var a,n};p=function(t,e,a){for(var n=(t=parseInt(t))-1600,o=(e=parseInt(e))-1,d=(a=parseInt(a))-1,i=365*n+parseInt((n+3)/4)-parseInt((n+99)/100)+parseInt((n+399)/400),r=0;o>r;++r)i+=B[r];o>1&&(n%4==0&&n%100!=0||n%400==0)&&++i;var l=(i+=d)-79,s=parseInt(l/12053);l%=12053;var c=979+33*s+4*parseInt(l/1461);for((l%=1461)>=366&&(c+=parseInt((l-1)/365),l=(l-1)%365),r=0;11>r&&l>=S[r];++r)l-=S[r];return[c,r+1,l+1]}((c=new Date).getFullYear(),c.getMonth()+1,c.getDate());var A=[];for(i=0;i<3;i++)A[i]=p[i];o=p[0],d=p[1],r=p[2],a=A[0],n=A[1],A[2],x.val(n),function(t){for(k.find("option").remove(),i=0;i<101;i++){var e=t-95+i+"";if(v.forceFarsiDigits)for(var a=0;a<10;a++){var n=new RegExp(a,"g");e=e.replace(n,b[a])}k.append($("<option>",{value:t-95+i,text:e}))}}(a),k.val(a),s=O(a,n);var H=function(t,e){var a,n=j(t,e,1);return n=new Date(n.gy+"/"+n.gm+"/"+n.gd),(a=n.getDay())<6?a+1:0};l=H(a,n);var E=function(e,l){D.empty();for(var s=1,c=1;s<=e;){for(D.append($("<tr>",{class:"tr-"+c})),i=0;i<7;i++){if(1==s)for(var p=0;p<l;)$("#bd-table-days-"+t+" .tr-1").append($("<td>",{class:"bd-empty-cell"})),p++,i++;if(i<7&&s<=e){var g='<td><button class="day day-'+s+'" type="button">'+(v.forceFarsiDigits?b[s]:s)+"</button></td>";if(v.markToday&&s==r&&d==n&&o==a){var u=g.indexOf("day day-");g=g.slice(0,u)+" bd-today "+g.slice(u)}if(v.markHolidays&&6==i){u=g.indexOf("day day-");g=g.slice(0,u)+" bd-holiday "+g.slice(u)}$("#bd-table-days-"+t+" .tr-"+c).append(g),s++}}c++}if(v.highlightSelectedDay){var h=f.val();(h=h.split("/"))[0]==a&&h[1]==n&&(y.find(".bd-selected-day").removeClass("bd-selected-day"),y.find(".day-"+parseInt(h[2])).addClass("bd-selected-day"))}};f.parent().on("click","button.day",function(){var t=a+"/"+n+"/"+$(this).attr("class").split(" ")[$(this).attr("class").split(" ").indexOf("day")+1].split("-")[1];v.twodigit&&(t=F(t)),f.val(t),f.trigger("change"),v.closeAfterSelect&&(g=!1,f.trigger("blur")),v.highlightSelectedDay&&(y.find(".bd-selected-day").removeClass("bd-selected-day"),$(this).addClass("bd-selected-day"))}),m.on("click",function(){x.val()<12?(x.val(parseInt(x.val())+1),x.trigger("change")):(x.val(1),x.trigger("change"),k.val(parseInt(k.val())+1),k.trigger("change"))}),C.on("click",function(){x.val()>1?(x.val(parseInt(x.val())-1),x.trigger("change")):(x.val(12),x.trigger("change"),k.val(parseInt(k.val())-1),k.trigger("change"))}),v.gotoToday&&w.on("click",function(){x.val(d),x.trigger("change"),k.val(o),k.trigger("change")}),E(s,l),"function"==typeof $().modal&&$('[data-toggle="tooltip"]').tooltip()}else console.error("kamadatepicker error: input ID is not string or is empty");function j(t,e,a){return R((n=e,o=a,M((d=J(t)).gy,3,d.march)+31*(n-1)-Y(n,7)*(n-7)+o-1));var n,o,d}function J(t){var e,a,n,o,d,i,r=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178],l=r.length,s=t+621,c=-14,p=r[0];if(p>t||t>=r[l-1])throw new Error("Invalid Jalaali year "+t);for(i=1;l>i&&(a=(e=r[i])-p,!(e>t));i+=1)c=c+8*Y(a,33)+Y(q(a,33),4),p=e;return c=c+8*Y(d=t-p,33)+Y(q(d,33)+3,4),4===q(a,33)&&a-d==4&&(c+=1),o=20+c-(Y(s,4)-Y(3*(Y(s,100)+1),4)-150),6>a-d&&(d=d-a+33*Y(a+4,33)),-1===(n=q(q(d+1,33)-1,4))&&(n=4),{leap:n,gy:s,march:o}}function M(t,e,a){var n=Y(1461*(t+Y(e-8,6)+100100),4)+Y(153*q(e+9,12)+2,5)+a-34840408;return n-Y(3*Y(t+100100+Y(e-8,6),100),4)+752}function R(t){var e,a,n,o;return n=Y(q(a=5*Y(q(e=(e=4*t+139361631)+4*Y(3*Y(4*t+183187720,146097),4)-3908,1461),4)+308,153),5)+1,o=q(Y(a,153),12)+1,{gy:Y(e,1461)-100100+Y(8-o,6),gm:o,gd:n}}function Y(t,e){return~~(t/e)}function q(t,e){return t-~~(t/e)*e}};